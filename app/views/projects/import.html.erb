

<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">

        <div class="ibox-title">
          <h2>Import projects from TypeForm</h2>
        </div>

        <div class="ibox-content">
          <div class="row">
            <div class="col-sm-4">

              <%= render partial: "layouts/errors", object: @file_upload, as: 'form' %>

              <%= form_for :file_upload, :html => { :class => "upload" } do |f| %>

                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <div class="form-control" data-trigger="fileinput">
                      <i class="glyphicon glyphicon-file fileinput-exists"></i>
                      <span class="fileinput-filename"></span>
                    </div>
                    <span class="input-group-addon btn btn-default btn-file">
                        <span class="fileinput-new">Select file</span>
                        <span class="fileinput-exists">Change</span>
                        <%= f.file_field :filename, accept: 'text/csv' %>
                    </span>
                    <a href="#" class="input-group-addon btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                </div>

                <div class="form-group" style="margin-top: 20px;">

                  <%= button_tag(type: "submit", class: "btn btn-primary") do %>
                    <i class="fa fa-check"></i> Import
                  <% end %>

                  <%= link_to projects_path, :class => 'btn btn-default' do %>
                    <i class="fa fa-times"></i> Cancel
                  <% end %>

                </div>

              <% end %>

            </div>
          </div>
        </div>

        <div class="ibox-footer">
          <div class="row">
            <div class="col-xs-12 col-md-4">
              <div class="panel panel-warning">
                <div class="panel-heading">
                  <i class="fa fa-warning"></i> Warning
                </div>
                <div class="panel-body">
                  <p>
                    Please note that this import is designed to work specifically
                    with the CSV file that is output by the TypeForm service; please
                    do not attempt to import records from an unknown source or
                    files that have been modified as they probably won't work.
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-4">
              <div class="panel panel-info">
                <div class="panel-heading">
                  <i class="fa fa-warning"></i> Information
                </div>
                <div class="panel-body">
                  <p>
                    It's also worth noting that you can upload the same data more
                    than once as each TypeForm submission has a unique ID that
                    will prevent duplication. An upload that contains project details
                    that have already been added will result in an update to the
                    data stored here.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
